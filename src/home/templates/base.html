{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>{% block head_title %}Teach Advisor{% endblock %}</title>

{% include 'head_css.html' %}

      <style>
      {% block style %}{% endblock %}

      .jumbotron {
        background-color: #336B87;
        color: white;
      }      



      .fpfont {
          font-size: 1.3em;
/*          font-weight: bold;*/
      }

      .panel > .panel-heading {
          background-color: #336B87;
          color: white;
      }



      #noti {
          padding:1px 10px 1px 10px;
          font-size: 12px;
      }

      .dropdown-menu {
          width: 200px !important;
/*          height: 400px !important;*/
      }

      .buttonspace {
        margin:10px 10px 10px 10px;
        width:180px;
        text-align: center;

      }

      .center {
        text-align: center;
      }

      .spinner-position {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translateX(-50%) translateY(-50%);
      }

      .spinner {
        width:50px;
        height:50px;
        border: 5px solid #ccc;
        border-top-color: #ff6a00;
        border-radius: 100%;
        margin: auto;
        animation: spin 2s linear infinite;
      }

      .spinner-text {
        margin-top: 15px;
      }


      @keyframes spin {

        from{
          transform: rotate(0deg);
        }to{
          transform: rotate(360deg);
        }
      }


      #overlay{
        height:100%;
        width:100%;
        background: rgba(255,255,255,.95);
        position: fixed;
        left:0;
        top:0;
        z-index: 2000;
      }

      
      </style>

  </head>

  <body>








{% include 'navbar.html' %}

    <div id="overlay">
      <div class="spinner-position">
        <div class="spinner"></div>
        <div class="spinner-text">Page Loading</div>
      </div>
    </div>



<div class='container'>

  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible text-center" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      {{ message }}
    </div>
  {% endfor %}
</div>



<div class="container">
<small>

  {% block content %}

    {% if not request.user.is_authenticated %}


        <div class="jumbotron">
        <div class="container">
        <div class="col-md-9">
          <h1>Welcome!</h1>
            <h3>Digital Marketplace for Freelance Tutors and Students.</h3> 
<!--             <p>FOR FREE!<p> -->
        <br>
        <a class="btn btn-success" href={% url 'account_signup' %} role="button">Sign Up Here</a>
        </div>


        <div class="col-md-3">
          <h1><i class="fa fa-graduation-cap fa-4x" aria-hidden="true"></i></h1>
        </div>
          <!--           <div class="col-sm-4" style="background-color:black;height:315px;"><iframe width="300" height="315" src="https://www.youtube.com/embed/8r0CiLBM1o8" frameborder="0" allowfullscreen></iframe>
                    </div> -->
        </div>
        </div>


      <!-- Example row of columns -->



      <hr>
      <footer>
        <p>&copy; Powered by Balance Tech Private Limited.</p>
      </footer>




        {% else %}


          <div class='col-sm-8 col-sm-offset-2'>
            <h3>Welcome {{ request.user }}</h3>
            <b>You are logged in</b>

              <br>
              <br>

              {% if not request.user.teacher.function and not request.user.student.function and not request.get_full_path == "/teacher/add/" and not request.get_full_path == "/student/add/" and not request.get_full_path == "/termsandconditions/" and not request.get_full_path == "/privacypolicy/" and not request.get_full_path == "/useragreement/" %}


              <br>

              <div class="panel panel-default">
                <div class="panel-heading"><b>Please select below to complete your profile before you can hire/apply.</b></div>
                <div class="panel-body">
                  <br>
                  <a href='{% url "TeacherCreate" %}' data-action='show-spinner' class='buttonspace btn btn-success btn-block' >Tutors click here</a>
                </div>
                <div class="panel-body">
                  <a href='{% url "StudentCreate" %}' data-action='show-spinner' class='buttonspace btn btn-success btn-block' >Students click here</a>
                </div>
              </div>

              {% else %}


              {% block special %}









              {% endblock %}

              {% endif %}
          </div>

    {% endif %}



</small>
  {% endblock %}

</div> <!-- /container -->





   {% include "javascript.html" %}








<script>

$(document).ready(function(){

  {% block jquery %}
  {% endblock %}

  updateMsgCount()

//msg dropdown
  $('.dropdown-toggle').dropdown()
  $(".notification-toggle").click(function(e){

    e.preventDefault();
    $.ajax({
      type: "POST",
      url: "",
      data: {
        csrfmiddlewaretoken: "{{ csrf_token }}",
      },

      success: function(data){
        $("#notification_dropdown").html(' <li role="presentation" class="dropdown-header"></li>');
        var count = data.count
        console.log(count)
        if (count == 0) {
          var url = ''
          $("#notification_dropdown").append("<li><a href='" + url + "'>View All Notifications</a></li>")
        } else {
          $(data.notifications).each(function(){

            var link = this;

            $("#notification_dropdown").append("<p id='noti'>" + link + " </p>")
          })
        }
      },

      error: function(rs, e){
        console.log(rs);
        console.log(e);
      }
    })
  })

//spinner
  var overlay = document.getElementById("overlay");
  window.addEventListener('load', function() {
    overlay.style.display = 'none';
  });

  $('body').on('click', 'a[data-action=show-spinner]', function(){
    $('#overlay').fadeIn(200);
  });


    $(".db-submit").click(function(e){
    var $submitBtn = $(this);
    e.preventDefault()

    var msg = $(this).attr("msg");
    
    $("#dc").fadeIn("300")
    $("#dc").dialog({
      resizable: false,
      height: 200,
      width: 350,
      modal: true,
      show: { effect: 'fade' }, 
      hide: { effect: 'fade' },
      buttons:{
        1:{       
          id:"close",
          text:"Confirm",
          click: function(){
            console.log("confirm") 

              var $form = $submitBtn.parent('.db');

              if ($form && $form.length) {
                $form.submit();
              }

            $(this).dialog("close")
          },
          class: "buy-btn"
        },
        2:{       
          id:"close",
          text:"Cancel",
          click: function(){
            console.log("cancel")
            $(this).dialog("close")
          },
          class: "cancel-btn"
        }
      }
    })
    })

})


//functions

function updateMsgCount(){
  var badge = $("#msg-count-badge");
    $.ajax({
      type: "GET",
      url: "",
      success: function(data){
        badge.text(data.count);
      },
      error: function(response, error){
        console.log(response);
        console.log(error);
      }
    })
}

function runScrollB() {
  scrollTo(document.body, 100000, 100);
}
var scrollbottom;
scrollbottom = document.querySelector("#scrollbottom");
if(scrollbottom){
  scrollbottom.addEventListener("click",runScrollB,false)
}
function runScrollT() {
  scrollTo(document.body, 0, 100);
}
var scrolltop;
scrolltop = document.querySelector("#scrolltop");
if(scrolltop){
  scrolltop.addEventListener("click",runScrollT,false)
}

function scrollTo(element, to, duration) {
  if (duration <= 0) return;
  var difference = to - element.scrollTop;
  var perTick = difference / duration * 10;

  setTimeout(function() {
    element.scrollTop = element.scrollTop + perTick;
    if (element.scrollTop == to) return;
    scrollTo(element, to, duration - 10);
  }, 10);
}


function showFlashMessage(message) {
  var template = "<div class='container container-alert-flash'>" + 
  "<div class='col-sm-10 col-sm-offset-1'> " + 
  "<div class='alert alert-success alert-dismissible' role='alert'>" + 
  "<button type='button' class='close' data-dismiss='alert' aria-label='Close'>" +
  "<span aria-hidden='true'>&times;</span></button>" 
  + message + "</div></div></div>"
  $("body").append(template);
  $(".container-alert-flash").fadeIn(500);
  setTimeout(function(){ 
    $(".container-alert-flash").fadeOut(500);
  }, 5000);
}



 </script>






<!-- Additional services include image uploading for tutors so they can advertise their accomplishments and/or certificates earned. Tracking to idenfify many views and messages their profiles have over time. And advertising to feature their profiles on top of our search. -->





<!--             <div class="row">

              <div class="col-sm-3">
                <b><p class='lead tacr'>Search for Tutors</p></b>
                <p>Search from our vast database of tutors and browse their details, documents and reviews to find a tutor who fits your requirements</p>
              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Create Tuition Jobs</p>
                <p>Create tuition jobs and offer your jobs to your favorite tutor or wait for tutors to message you.</p>
              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Message your Tutors</p>
                <p>Track and schedule your tuition sessions with our online messaging system, discuss this price, the dates and verify the tutors expertise with our intergrated messaging system before you hire to avoid giving out your personal contact before hiring.</p>
              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Review your Tutor</p>
                <p>Review your tutors performance when tuition job is completed. You can always negotiate a discount with the tutor should you provide a review.</p>
              </div>

            </div>
 -->


<!--             <div class="row">

              <div class="col-sm-3">
                <p class='lead tacr'>Search for Tuition Jobs</p>

                <p>Search from our vast database of tuition jobs based on your who fits your ability</p>
              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Create/Upload your profile</p>
                <p>Upload relevant documents showcasing your teaching skills and credentials, or even text messages from students thanking you for the good grades that have obtained under your supervision.</p>

              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Message your Students</p>
                <p>Track and schedule your tuition sessions with our online messaging system, discuss the pricing, schedule the dates and verify the tutors expertise with our intergrated messaging system before you hire to avoid giving out your personal contact before hiring.</p>
              </div>

              <div class="col-sm-3">
                <p class='lead tacr'>Favourite your Tuition Jobs</p>
                <p>Found a tuition job that you like but cant make up your mind to apply for that job? Favorite that job and come back later.</p>

              </div>

            </div> -->


<!--             We are encouraging the freelance tutor to 

            Do you know that by having good reviews, you get offered higher rates as your reputation improves.

            For Tutors, dont know how to build a website to offer your services? You can upload images of your past reviews or documents of your qualifications in teaching onto your profile to help you acquire students.

            Instead of the middkeman we let you negotiate direct with the students on this platform

            We provide analytics such as views and favorites on your profile so you can optimise your profile as you progress. -->

    
  </body>
</html>







